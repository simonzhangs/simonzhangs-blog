---
title: JS常见高级函数
date: 2022-04-16 21:57:19
permalink: /pages/e8ec12/
categories:
  - 《JavaScript教程》笔记
tags:
  - 
---
1. 节流函数

在规定的一个单位时间内，事件只能触发一次；如果单位内触发多次函数，只有一次生效。

```js
function throttle(func, ms) {
    let timer = null;
    return function() {
        let that = this;
        let args = arguments;
        if (!timer) {
            timer = setTimeout(() => {
                timer = null;
                func.apply(that, args);
            }, ms)
        }
    }
}
```

2. 防抖函数

在事件被触发后n秒内再执行回调，如果n秒内再次触发，则重新计时。

```js
function debounce(func, ms) {
    let timer = null;
    return function() {
        let that = this;
        let args = arguments;
        if (timer) clearTimeout(timer);
        timer = setTimeout(() => {
            func.apply(that, args)
        }, ms)
    }
}
```

3. 深拷贝

对于数组、对象等类型时引用类型，变量标识符存储的指针指向堆中的对象，需要深拷贝赋值。

```js
function copy(obj) {
    let newObj = null;
    if (typeof(obj) == 'object' && typeof(obj) !== null) {
        newObj = obj instanceof Array ? [] : {};
        for (let i in obj) {
            newObj[i] = copy(obj[i]);
        }
    } else {
        newObj = obj
    }
    return newObj
}
```

