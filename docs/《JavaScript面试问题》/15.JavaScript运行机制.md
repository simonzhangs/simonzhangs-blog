---
title: JavaScript运行机制
date: 2022-03-29 21:36:42
permalink: /pages/c50093/
categories:
  - 《JavaScript面试问题》
tags:
  - 
---

# 什么是同步与异步

异步：
- 计时器
- ajax
- 读取文件

同步程序执行完成后，执行异步程序；

```js
console.log(1);
setTimeout(()=>{console.log(2);},1000);
setTimeout(()=>{console.log(3);},100);
setTimeout(()=>{console.log(4);},1);
console.log(5); // 1 5 4 3 2
```

# 单线程

以下列代码举例子：

```js
for(let i=0;i<2000;i++) {
    console.log(1);
}
setTimeout(()=>{console.log(2);},1000);
setTimeout(()=>{console.log(3);},100);
setTimeout(()=>{console.log(4);},1);
console.log(5);
```

上述代码会先输出2000个1，再输出5 4 3 2，则计时器不准了，说明了JS是单线程的，一个任务完成后才能执行另一个任务；

# process.nextTick 和 setImmediate

nextTick 方法会在同步代码执行之后，异步执行之前执行。

setImmmediate 方法在异步代码执行之后执行。

# 事件循环

